#:import Window kivy.core.window.Window

<MainMenu>:
    name: 'mainmenu'
    id: mainmenuscreen
    md_bg_color: app.bg_color
    MDBoxLayout:
        id: box
        size_hint: (1, 1)
        orientation: 'vertical'
        padding: 80
        AnchorLayout:
            id: anchor_label
            size_hint: (1, 0.3)
            anchor_x: 'center'
            anchor_y: 'center'
            MDLabel:
                text: 'Student Portal'
                font_name: app.app_font
                theme_text_color: 'Custom'
                text_color: app.title_text_color
                halign: 'center'
                valign: 'center'
                font_size: str((Window.height/720)*60) + 'sp'
        AnchorLayout:
            id: anchor_buttons
            size_hint: (1, 1)
            anchor_x: 'center'
            anchor_y: 'center'
            MDGridLayout:
                id: grid
                cols: 4
                adaptive_size: True
                spacing: (10*(Window.width/Window.height)**3, 40)
                CustomIconButton:
                    display_icon: 'wikipedia'
                    icon_text: '[b]Wikipedia[/b]'
                    on_release:
                        app.switch_screen('wikipedia', 'left')
                        self.canvas_opacity = 0
                CustomIconButton:
                    display_icon: 'youtube'
                    icon_text: '[b]Youtube[/b]'
                    on_release:
                        app.switch_screen('youtube', 'right')
                        self.canvas_opacity = 0
                CustomIconButton:
                    display_icon: 'google-translate'
                    icon_text: '[b]Translation[/b]'
                    on_release:
                        app.switch_screen('translation', 'left')
                        self.canvas_opacity = 0
                CustomIconButton:
                    display_icon: 'information'
                    icon_text: '[b]About[/b]'
                CustomIconButton:
                    display_icon: 'notebook'
                    icon_text: '[b]Notebook[/b]'
                    on_release:
                        app.switch_screen('notebook', 'right')
                        self.canvas_opacity = 0
                CustomIconButton:
                    display_icon: 'bookshelf'
                    icon_text: '[b]Books[/b]'
                    on_release:
                        app.switch_screen('books', 'left')
                        self.canvas_opacity = 0
                CustomIconButton:
                    display_icon: 'calendar-check-outline'
                    icon_text: '[b]To-do[/b]'
                    on_release:
                        app.switch_screen('todo', 'right')
                        self.canvas_opacity = 0
                CustomIconButton:
                    display_icon: 'cog'
                    icon_text: '[b]Settings[/b]'
                    on_release:
                        app.switch_screen('settings', 'left')
                        self.canvas_opacity = 0

<CustomIconButton>:
    id: menubutton
    canvas:
        Color:
            rgba: app.tile_color
        Rectangle:
            pos: (self.x, self.y)
            size: (self.width, self.height)
    height: Window.height/4.5
    width: self.height*1.4
    display_icon: ''
    icon_text: ''
    BoxLayout:
        size_hint: (1, 1)
        orientation: 'vertical'
        MDIcon:
            icon: root.display_icon
            theme_text_color: 'Custom'
            text_color: app.text_color
            font_size: str((Window.height/720)*90) + 'sp'
            halign: 'center'
        MDLabel:
            text: root.icon_text
            theme_text_color: 'Custom'
            text_color: app.text_color
            font_size: str((Window.height/720)*25) + 'sp'
            halign: 'center'
            font_name: app.app_font
            bold: True
            size_hint_y: 0.2
            markup: True

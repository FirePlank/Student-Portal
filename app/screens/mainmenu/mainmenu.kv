#:import utils kivy.utils
#:import os os
#:import resource_path app.tools.resource_path

<MainMenu>:
    name: 'mainmenu'
    id: mainmenuscreen
    md_bg_color: utils.get_color_from_hex('#475D66')
    MDBoxLayout:
        id: box
        size_hint: (1, 1)
        orientation: 'vertical'
        md_bg_color: utils.get_color_from_hex('#475D66')
        padding: 80
        AnchorLayout:
            id: anchor_label
            size_hint: (1, 0.3)
            anchor_x: 'center'
            anchor_y: 'center'
            MDLabel:
                text: 'Student Portal'
                font_name: resource_path(os.path.join('data', 'fonts', 'JetBrainsMono-Regular.ttf'))
                theme_text_color: 'Primary'
                halign: 'center'
                valign: 'center'
                font_size: str((box.height/720)*50) + 'sp'
        AnchorLayout:
            id: anchor_buttons
            size_hint: (1, 1)
            anchor_x: 'center'
            anchor_y: 'center'
            MDGridLayout:
                id: grid
                cols: 4
                md_bg_color: utils.get_color_from_hex('#475D66')
                adaptive_size: True
                spacing: (10*(box.width/box.height)**3, 40)
                CustomIconButton:
                    icon: os.path.join('..', '..', 'data', 'logo', 'wikipedia.png')
                    on_release:
                        app.switch_screen('wikipedia')
                CustomIconButton:
                    icon: resource_path(os.path.join('data', 'logo', 'youtube.png'))
                CustomIconButton:
                    icon: resource_path(os.path.join('data', 'logo', 'translation.png'))
                CustomIconButton:
                    icon: resource_path(os.path.join('data', 'logo', 'routine.png'))
                CustomIconButton:
                    icon: resource_path(os.path.join('data', 'logo', 'notebook.png'))
                CustomIconButton:
                    icon: resource_path(os.path.join('data', 'logo', 'books.png'))
                CustomIconButton:
                    icon: resource_path(os.path.join('data', 'logo', 'about.png'))
                CustomIconButton:
                    icon: resource_path(os.path.join('data', 'logo', 'settings.png'))

<CustomIconButton>:
    height: self.parent.parent.height/3
    width: self.height*(748/552)
    canvas.before:
        Color:
            id: line_color
            rgba: .5, .7, .5, root.canvas_opacity
        Line:
            width: 2
            rectangle: self.x-dp(5), self.y-dp(5), self.width+dp(10), self.height+dp(10)

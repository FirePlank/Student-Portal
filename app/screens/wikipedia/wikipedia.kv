#:import Window kivy.core.window.Window

<Wikipedia>:
    name: 'wikipedia'
    id: wikipediascreen
    md_bg_color: app.bg_color
    GridLayout:
        cols: 1
        id: box_root
        padding: dp(min(Window.height/720*20, Window.width/1080*20))
        spacing: dp(20*Window.height/720)
        BoxLayout:
            size_hint: (1, 0.2)
            AnchorLayout:
                HoverIconButton:
                    icon: 'arrow-left-bold'
                    theme_text_color: 'Custom'
                    text_color: app.title_text_color
                    user_font_size: str((Window.height/720)*80) + 'sp'
                    on_release:
                        app.switch_screen('mainmenu', 'right')
            MDLabel:
                text: 'Wikipedia'
                font_name: app.app_font
                theme_text_color: 'Custom'
                text_color: app.title_text_color
                halign: 'center'
                valign: 'middle'
                font_size: str((Window.height/720)*60) + 'sp'
            AnchorLayout:
        AnchorLayout:
            size_hint: (1, None)
            height: search_box.height
            GridLayout:
                id: search_box
                rows: 1
                size_hint: (0.8, None)
                height: self.minimum_height
                TextInput:
                    id: searchbar
                    size_hint: (0.95, None)
                    height: self.minimum_height
                    font_name: app.app_font
                    multiline: False
                    font_size: str((Window.height/720)*30) + 'sp'
                    foreground_color: app.text_color
                    background_color: app.tile_color
                    background_normal: 'atlas://data/images/defaulttheme/textinput_active'
                    cursor_color: app.accent_color
                    cursor_width: app.cursor_width
                HoverIconButton:
                    icon: 'magnify'
                    user_font_size: str((Window.height/720)*30) + 'sp'
                    theme_text_color: 'Custom'
                    text_color: app.title_text_color
                    on_release:
                        root.search(searchbar.text)
        AnchorLayout:
            size_hint: (1, 0.75)
            TextInput:
                id: results
                font_name: app.app_font
                size_hint: (0.9, 1)
                font_size: str((Window.height/720)*20) + 'sp'
                pos_hint: {'x': 0.1, 'y': 0.05}
                foreground_color: app.text_color
                background_color: app.tile_color
                background_normal: 'atlas://data/images/defaulttheme/textinput_active'
                readonly: True
                cursor_color: app.accent_color
                cursor_blink: False
                cursor_width: app.cursor_width
